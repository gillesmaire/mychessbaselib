\hypertarget{class_byte_buffer}{}\doxysection{Byte\+Buffer Class Reference}
\label{class_byte_buffer}\index{ByteBuffer@{ByteBuffer}}


{\ttfamily \#include $<$bytebuf.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_byte_buffer_a36e12f62ccd8cf12cc12ba690c4e6309}{Byte\+Buffer}} (const unsigned char $\ast$\mbox{\hyperlink{class_byte_buffer_a54a6584d0562f3fd3c04b136e9908ee9}{data}}, size\+\_\+t length)
\item 
\mbox{\hyperlink{class_byte_buffer_ad2f7f59213f90aba7f7c2c2c92ed6283}{operator bool}} () const
\item 
const unsigned char $\ast$ \mbox{\hyperlink{class_byte_buffer_a54a6584d0562f3fd3c04b136e9908ee9}{data}} () const
\item 
size\+\_\+t \mbox{\hyperlink{class_byte_buffer_ac06a598447807d32f6594a97a32bce94}{size}} () const
\item 
{\footnotesize template$<$typename FuncT $>$ }\\\mbox{\hyperlink{error_8h_a3d30ac5665bf72ba7258c90866c775c0}{errorT}} \mbox{\hyperlink{class_byte_buffer_a464a3760df6ad480b159c2091e78a9b8}{decode\+Tags}} (FuncT fn)
\item 
std\+::pair$<$ \mbox{\hyperlink{error_8h_a3d30ac5665bf72ba7258c90866c775c0}{errorT}}, const char $\ast$ $>$ \mbox{\hyperlink{class_byte_buffer_a3e7b858ed7a87af2bdc07eb7e9dabb5e}{decode\+Start\+Board}} ()
\item 
const char $\ast$ \mbox{\hyperlink{class_byte_buffer_a2f966087d9559254a73f5cb26934c5fd}{Get\+Terminated\+String}} ()
\begin{DoxyCompactList}\small\item\em Reads a null-\/terminated string from the buffer. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename Move\+Fn , typename Comment\+Fn , typename Variation\+Fn , typename Nag\+Fn $>$ }\\std\+::pair$<$ \mbox{\hyperlink{error_8h_a3d30ac5665bf72ba7258c90866c775c0}{errorT}}, unsigned char $>$ \mbox{\hyperlink{class_byte_buffer_af0d783ecef4100b5ef79305eab612009}{next\+Move}} (int var\+Depth, Move\+Fn accept\+Move, Comment\+Fn comment\+Marker, Variation\+Fn change\+Var, Nag\+Fn add\+Nag)
\item 
std\+::pair$<$ \mbox{\hyperlink{error_8h_a3d30ac5665bf72ba7258c90866c775c0}{errorT}}, unsigned char $>$ \mbox{\hyperlink{class_byte_buffer_a3477a7848c188a11eeac81ebf30b2977}{next\+Line\+Move}} ()
\item 
std\+::pair$<$ int, \mbox{\hyperlink{board__def_8h_ac1897395b8e2b8ad9f873b30249f3920}{pieceT}} $>$ \mbox{\hyperlink{class_byte_buffer_a1780a25facc93a069b26ecbf6f42e054}{decode\+Move}} (\mbox{\hyperlink{board__def_8h_a392377b3504195ce1ed9148b4f8a3295}{colorT}} to\+Move, \mbox{\hyperlink{board__def_8h_ac1897395b8e2b8ad9f873b30249f3920}{pieceT}} moving\+Piece, \mbox{\hyperlink{board__def_8h_a3108e3f00f59ecc09bef6c74ef203381}{squareT}} from, unsigned char move\+Code)
\end{DoxyCompactItemize}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_byte_buffer_a36e12f62ccd8cf12cc12ba690c4e6309}\label{class_byte_buffer_a36e12f62ccd8cf12cc12ba690c4e6309}} 
\index{ByteBuffer@{ByteBuffer}!ByteBuffer@{ByteBuffer}}
\index{ByteBuffer@{ByteBuffer}!ByteBuffer@{ByteBuffer}}
\doxysubsubsection{\texorpdfstring{ByteBuffer()}{ByteBuffer()}}
{\footnotesize\ttfamily Byte\+Buffer\+::\+Byte\+Buffer (\begin{DoxyParamCaption}\item[{const unsigned char $\ast$}]{data,  }\item[{size\+\_\+t}]{length }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_byte_buffer_a54a6584d0562f3fd3c04b136e9908ee9}\label{class_byte_buffer_a54a6584d0562f3fd3c04b136e9908ee9}} 
\index{ByteBuffer@{ByteBuffer}!data@{data}}
\index{data@{data}!ByteBuffer@{ByteBuffer}}
\doxysubsubsection{\texorpdfstring{data()}{data()}}
{\footnotesize\ttfamily const unsigned char $\ast$ Byte\+Buffer\+::data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

\mbox{\Hypertarget{class_byte_buffer_a1780a25facc93a069b26ecbf6f42e054}\label{class_byte_buffer_a1780a25facc93a069b26ecbf6f42e054}} 
\index{ByteBuffer@{ByteBuffer}!decodeMove@{decodeMove}}
\index{decodeMove@{decodeMove}!ByteBuffer@{ByteBuffer}}
\doxysubsubsection{\texorpdfstring{decodeMove()}{decodeMove()}}
{\footnotesize\ttfamily std\+::pair$<$ int, \mbox{\hyperlink{board__def_8h_ac1897395b8e2b8ad9f873b30249f3920}{pieceT}} $>$ Byte\+Buffer\+::decode\+Move (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{board__def_8h_a392377b3504195ce1ed9148b4f8a3295}{colorT}}}]{to\+Move,  }\item[{\mbox{\hyperlink{board__def_8h_ac1897395b8e2b8ad9f873b30249f3920}{pieceT}}}]{moving\+Piece,  }\item[{\mbox{\hyperlink{board__def_8h_a3108e3f00f59ecc09bef6c74ef203381}{squareT}}}]{from,  }\item[{unsigned char}]{move\+Code }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Decode a move encoded in SCID4 format. Excluding queens, the other chess pieces cannot reach more than 16 target squares from any given position. This allow to store the target square of a move into 4 bits, as an index of all the reachable squares. 
\begin{DoxyParams}{Parameters}
{\em moving\+Piece} & the type (PAWN, BISHOP, etc.) of the piece to move. \\
\hline
{\em from} & the square where is the piece to move. \\
\hline
{\em move\+Code} & the SCID4 encoding of the move (a 0-\/15 value). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a pair containing the destination square and the new type of the piece for promotions (INVALID\+\_\+\+PIECE for normal moves). Special moves are returned as\+:
\begin{DoxyItemize}
\item castle kingside\+: \{from, KING\}
\item castle queenside\+: \{from, QUEEN\}
\item null move\+: \{from, PAWN\} On error returns an invalid square (\texorpdfstring{$<$}{<}0 or \texorpdfstring{$>$}{>}63) or \{from, INVALID\+\_\+\+PIECE\}. 
\end{DoxyItemize}
\end{DoxyReturn}
\mbox{\Hypertarget{class_byte_buffer_a3e7b858ed7a87af2bdc07eb7e9dabb5e}\label{class_byte_buffer_a3e7b858ed7a87af2bdc07eb7e9dabb5e}} 
\index{ByteBuffer@{ByteBuffer}!decodeStartBoard@{decodeStartBoard}}
\index{decodeStartBoard@{decodeStartBoard}!ByteBuffer@{ByteBuffer}}
\doxysubsubsection{\texorpdfstring{decodeStartBoard()}{decodeStartBoard()}}
{\footnotesize\ttfamily std\+::pair$<$ \mbox{\hyperlink{error_8h_a3d30ac5665bf72ba7258c90866c775c0}{errorT}}, const char $\ast$ $>$ Byte\+Buffer\+::decode\+Start\+Board (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Decodes the start position. \begin{DoxyReturn}{Returns}
OK on success and the FEN of the start position (nullptr for the standard starting position). To decode the moves the correct index should be assigned to each piece\+: they are assigned from left to right, but the king should always have index 0. It is therefore swapped with the piece occupying the index 0. For example with \char`\"{}rnb1k2\+Q/1p5p/p7/4p3/4q3/8/\+PPP2\+R1\+P/2\+K5 b\char`\"{} the black rook on A8 gets index 3, the black night on B8 gets index 1 .... and the white queen on H8 gets index 6, the pawn on A2 gets index 1 ... 
\end{DoxyReturn}
\mbox{\Hypertarget{class_byte_buffer_a464a3760df6ad480b159c2091e78a9b8}\label{class_byte_buffer_a464a3760df6ad480b159c2091e78a9b8}} 
\index{ByteBuffer@{ByteBuffer}!decodeTags@{decodeTags}}
\index{decodeTags@{decodeTags}!ByteBuffer@{ByteBuffer}}
\doxysubsubsection{\texorpdfstring{decodeTags()}{decodeTags()}}
{\footnotesize\ttfamily template$<$typename FuncT $>$ \\
\mbox{\hyperlink{error_8h_a3d30ac5665bf72ba7258c90866c775c0}{errorT}} Byte\+Buffer\+::decode\+Tags (\begin{DoxyParamCaption}\item[{FuncT}]{fn }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Decodes the tag pairs not stored into the index. 
\begin{DoxyParams}{Parameters}
{\em fn} & a function that should accept 2 parameters (string\+\_\+view tag\+\_\+name, string\+\_\+view tag\+\_\+value) and that will be called for each tag pair. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_byte_buffer_a2f966087d9559254a73f5cb26934c5fd}\label{class_byte_buffer_a2f966087d9559254a73f5cb26934c5fd}} 
\index{ByteBuffer@{ByteBuffer}!GetTerminatedString@{GetTerminatedString}}
\index{GetTerminatedString@{GetTerminatedString}!ByteBuffer@{ByteBuffer}}
\doxysubsubsection{\texorpdfstring{GetTerminatedString()}{GetTerminatedString()}}
{\footnotesize\ttfamily const char $\ast$ Byte\+Buffer\+::\+Get\+Terminated\+String (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Reads a null-\/terminated string from the buffer. 

\mbox{\Hypertarget{class_byte_buffer_a3477a7848c188a11eeac81ebf30b2977}\label{class_byte_buffer_a3477a7848c188a11eeac81ebf30b2977}} 
\index{ByteBuffer@{ByteBuffer}!nextLineMove@{nextLineMove}}
\index{nextLineMove@{nextLineMove}!ByteBuffer@{ByteBuffer}}
\doxysubsubsection{\texorpdfstring{nextLineMove()}{nextLineMove()}}
{\footnotesize\ttfamily std\+::pair$<$ \mbox{\hyperlink{error_8h_a3d30ac5665bf72ba7258c90866c775c0}{errorT}}, unsigned char $>$ Byte\+Buffer\+::next\+Line\+Move (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Find the next move in the current line. Ignore variations, comments and nags. \mbox{\Hypertarget{class_byte_buffer_af0d783ecef4100b5ef79305eab612009}\label{class_byte_buffer_af0d783ecef4100b5ef79305eab612009}} 
\index{ByteBuffer@{ByteBuffer}!nextMove@{nextMove}}
\index{nextMove@{nextMove}!ByteBuffer@{ByteBuffer}}
\doxysubsubsection{\texorpdfstring{nextMove()}{nextMove()}}
{\footnotesize\ttfamily template$<$typename Move\+Fn , typename Comment\+Fn , typename Variation\+Fn , typename Nag\+Fn $>$ \\
std\+::pair$<$ \mbox{\hyperlink{error_8h_a3d30ac5665bf72ba7258c90866c775c0}{errorT}}, unsigned char $>$ Byte\+Buffer\+::next\+Move (\begin{DoxyParamCaption}\item[{int}]{var\+Depth,  }\item[{Move\+Fn}]{accept\+Move,  }\item[{Comment\+Fn}]{comment\+Marker,  }\item[{Variation\+Fn}]{change\+Var,  }\item[{Nag\+Fn}]{add\+Nag }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Extract the next move. \begin{DoxyReturn}{Returns}
a std\+::pair containing OK and the move value. Returns ERROR\+\_\+\+End\+Of\+Move\+List when the end of the game is reached, an error otherwise. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_byte_buffer_ad2f7f59213f90aba7f7c2c2c92ed6283}\label{class_byte_buffer_ad2f7f59213f90aba7f7c2c2c92ed6283}} 
\index{ByteBuffer@{ByteBuffer}!operator bool@{operator bool}}
\index{operator bool@{operator bool}!ByteBuffer@{ByteBuffer}}
\doxysubsubsection{\texorpdfstring{operator bool()}{operator bool()}}
{\footnotesize\ttfamily Byte\+Buffer\+::operator bool (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}

\mbox{\Hypertarget{class_byte_buffer_ac06a598447807d32f6594a97a32bce94}\label{class_byte_buffer_ac06a598447807d32f6594a97a32bce94}} 
\index{ByteBuffer@{ByteBuffer}!size@{size}}
\index{size@{size}!ByteBuffer@{ByteBuffer}}
\doxysubsubsection{\texorpdfstring{size()}{size()}}
{\footnotesize\ttfamily size\+\_\+t Byte\+Buffer\+::size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{bytebuf_8h}{bytebuf.\+h}}\end{DoxyCompactItemize}
