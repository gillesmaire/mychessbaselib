\hypertarget{class_sort_cache}{}\doxysection{Sort\+Cache Class Reference}
\label{class_sort_cache}\index{SortCache@{SortCache}}


{\ttfamily \#include $<$sortcache.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_sort_cache_a47465200de8468fb214c8f28c12f01a0}{$\sim$\+Sort\+Cache}} ()
\item 
void \mbox{\hyperlink{class_sort_cache_a288130f2a7d4bf7c4dbf109094b1147a}{check\+For\+Changes}} (\mbox{\hyperlink{common_8h_a2c7f83aec3053cd8fc3ab9a70b7eace7}{gamenumT}} game\+Id)
\item 
void \mbox{\hyperlink{class_sort_cache_aa337979182d9c03b412cb05c9418c1af}{prepare\+For\+Changes}} ()
\item 
size\+\_\+t \mbox{\hyperlink{class_sort_cache_a306bc60483a1af700fe4eefbc40029d8}{select}} (size\+\_\+t row\+\_\+offset, size\+\_\+t row\+\_\+count, const \mbox{\hyperlink{class_h_filter}{HFilter}} \&filter, \mbox{\hyperlink{common_8h_a2c7f83aec3053cd8fc3ab9a70b7eace7}{gamenumT}} $\ast$result) const
\item 
size\+\_\+t \mbox{\hyperlink{class_sort_cache_aa874524e0338062d0c776e2dd0aecbb9}{sorted\+Position}} (\mbox{\hyperlink{common_8h_a2c7f83aec3053cd8fc3ab9a70b7eace7}{gamenumT}} game\+Id, const \mbox{\hyperlink{class_h_filter}{HFilter}} \&filter) const
\item 
int \mbox{\hyperlink{class_sort_cache_a286d915c19ce5c5a869fb36ce6707dce}{incr\+Ref}} (int incr)
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{class_sort_cache}{Sort\+Cache}} $\ast$ \mbox{\hyperlink{class_sort_cache_a7b9a1f42a61f162208d18cdead93cac4}{create}} (const \mbox{\hyperlink{class_index}{Index}} $\ast$idx, const \mbox{\hyperlink{class_name_base}{Name\+Base}} $\ast$nb, const char $\ast$criteria)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This class sorts games contained into an \mbox{\hyperlink{class_index}{Index}}. Multiple \mbox{\hyperlink{class_sort_cache}{Sort\+Cache}} objects can be created for a single \mbox{\hyperlink{class_index}{Index}}, allowing to simultaneously sort the games by multiple criteria in an independent way. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_sort_cache_a47465200de8468fb214c8f28c12f01a0}\label{class_sort_cache_a47465200de8468fb214c8f28c12f01a0}} 
\index{SortCache@{SortCache}!````~SortCache@{$\sim$SortCache}}
\index{````~SortCache@{$\sim$SortCache}!SortCache@{SortCache}}
\doxysubsubsection{\texorpdfstring{$\sim$SortCache()}{~SortCache()}}
{\footnotesize\ttfamily Sort\+Cache\+::$\sim$\+Sort\+Cache (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_sort_cache_a288130f2a7d4bf7c4dbf109094b1147a}\label{class_sort_cache_a288130f2a7d4bf7c4dbf109094b1147a}} 
\index{SortCache@{SortCache}!checkForChanges@{checkForChanges}}
\index{checkForChanges@{checkForChanges}!SortCache@{SortCache}}
\doxysubsubsection{\texorpdfstring{checkForChanges()}{checkForChanges()}}
{\footnotesize\ttfamily void Sort\+Cache\+::check\+For\+Changes (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{common_8h_a2c7f83aec3053cd8fc3ab9a70b7eace7}{gamenumT}}}]{game\+Id }\end{DoxyParamCaption})}

Notify the object that a game\textquotesingle{}s header data has changed. 
\begin{DoxyParams}{Parameters}
{\em game\+Id} & the id of the game whose data has been changed. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_sort_cache_a7b9a1f42a61f162208d18cdead93cac4}\label{class_sort_cache_a7b9a1f42a61f162208d18cdead93cac4}} 
\index{SortCache@{SortCache}!create@{create}}
\index{create@{create}!SortCache@{SortCache}}
\doxysubsubsection{\texorpdfstring{create()}{create()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_sort_cache}{Sort\+Cache}} $\ast$ Sort\+Cache\+::create (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_index}{Index}} $\ast$}]{idx,  }\item[{const \mbox{\hyperlink{class_name_base}{Name\+Base}} $\ast$}]{nb,  }\item[{const char $\ast$}]{criteria }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Create a new \mbox{\hyperlink{class_sort_cache}{Sort\+Cache}} object, builds the hash table, and asynchronously sorts all the games. 
\begin{DoxyParams}{Parameters}
{\em idx} & valid pointer to an \mbox{\hyperlink{class_index}{Index}} object, witch contains the header data of the games to be sorted. \\
\hline
{\em nb} & valid pointer to the \mbox{\hyperlink{class_name_base}{Name\+Base}} corresponding to {\itshape idx}. \\
\hline
{\em criteria} & the list of fields by which games will be ordered. Each field should be followed by \textquotesingle{}+\textquotesingle{} to indicate an ascending order or by \textquotesingle{}-\/\textquotesingle{} for a descending order. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a pointer to the new object in case of success, NULL otherwise. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_sort_cache_a286d915c19ce5c5a869fb36ce6707dce}\label{class_sort_cache_a286d915c19ce5c5a869fb36ce6707dce}} 
\index{SortCache@{SortCache}!incrRef@{incrRef}}
\index{incrRef@{incrRef}!SortCache@{SortCache}}
\doxysubsubsection{\texorpdfstring{incrRef()}{incrRef()}}
{\footnotesize\ttfamily int Sort\+Cache\+::incr\+Ref (\begin{DoxyParamCaption}\item[{int}]{incr }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\mbox{\Hypertarget{class_sort_cache_aa337979182d9c03b412cb05c9418c1af}\label{class_sort_cache_aa337979182d9c03b412cb05c9418c1af}} 
\index{SortCache@{SortCache}!prepareForChanges@{prepareForChanges}}
\index{prepareForChanges@{prepareForChanges}!SortCache@{SortCache}}
\doxysubsubsection{\texorpdfstring{prepareForChanges()}{prepareForChanges()}}
{\footnotesize\ttfamily void Sort\+Cache\+::prepare\+For\+Changes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Interrupt any asynchronous operation. This function must be called before modifying the \mbox{\hyperlink{class_index}{Index}} or the \mbox{\hyperlink{class_name_base}{Name\+Base}} associated with the \mbox{\hyperlink{class_sort_cache}{Sort\+Cache}}. \mbox{\Hypertarget{class_sort_cache_a306bc60483a1af700fe4eefbc40029d8}\label{class_sort_cache_a306bc60483a1af700fe4eefbc40029d8}} 
\index{SortCache@{SortCache}!select@{select}}
\index{select@{select}!SortCache@{SortCache}}
\doxysubsubsection{\texorpdfstring{select()}{select()}}
{\footnotesize\ttfamily size\+\_\+t Sort\+Cache\+::select (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{row\+\_\+offset,  }\item[{size\+\_\+t}]{row\+\_\+count,  }\item[{const \mbox{\hyperlink{class_h_filter}{HFilter}} \&}]{filter,  }\item[{\mbox{\hyperlink{common_8h_a2c7f83aec3053cd8fc3ab9a70b7eace7}{gamenumT}} $\ast$}]{result }\end{DoxyParamCaption}) const}

Retrieve the sorted list of games\textquotesingle{} ids. The behavior of this function is similar to the my\+SQL statement\+: SELECT game\+Id FROM idx WHERE filter(game\+Id) != 0 ORDER BY criteria LIMIT offset, row\+\_\+count 
\begin{DoxyParams}[1]{Parameters}
 & {\em row\+\_\+offset} & the offset of the first row to return. The offset of the initial row is 0. \\
\hline
 & {\em row\+\_\+count} & maximum number of rows to return. \\
\hline
 & {\em filter} & a reference to a valid (!= NULL) \mbox{\hyperlink{class_h_filter}{HFilter}} object. Games not included into the filter will be ignored. \\
\hline
\mbox{\texttt{ out}}  & {\em result} & valid pointer to an array where the sorted list of games will be stored (should be able to contain at least {\itshape row\+\_\+count} elements). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the number of games\textquotesingle{} ids stored into {\itshape result}. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_sort_cache_aa874524e0338062d0c776e2dd0aecbb9}\label{class_sort_cache_aa874524e0338062d0c776e2dd0aecbb9}} 
\index{SortCache@{SortCache}!sortedPosition@{sortedPosition}}
\index{sortedPosition@{sortedPosition}!SortCache@{SortCache}}
\doxysubsubsection{\texorpdfstring{sortedPosition()}{sortedPosition()}}
{\footnotesize\ttfamily size\+\_\+t Sort\+Cache\+::sorted\+Position (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{common_8h_a2c7f83aec3053cd8fc3ab9a70b7eace7}{gamenumT}}}]{game\+Id,  }\item[{const \mbox{\hyperlink{class_h_filter}{HFilter}} \&}]{filter }\end{DoxyParamCaption}) const}

Get the sorted position of a game. 
\begin{DoxyParams}{Parameters}
{\em game\+Id} & the id of the game. \\
\hline
{\em filter} & a reference to a valid (!= NULL) \mbox{\hyperlink{class_h_filter}{HFilter}} object. Games not included into the filter will be ignored, and {\itshape game\+Id} must be included into the filter. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the sorted position of {\itshape game\+Id}. 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{sortcache_8h}{sortcache.\+h}}\item 
\mbox{\hyperlink{sortcache_8cpp}{sortcache.\+cpp}}\end{DoxyCompactItemize}
