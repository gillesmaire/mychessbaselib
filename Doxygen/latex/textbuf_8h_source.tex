\hypertarget{textbuf_8h_source}{}\doxysection{textbuf.\+h}
\mbox{\hyperlink{textbuf_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{2 \textcolor{comment}{//}}
\DoxyCodeLine{3 \textcolor{comment}{//  FILE:       textbuf.h}}
\DoxyCodeLine{4 \textcolor{comment}{//              TextBuffer class}}
\DoxyCodeLine{5 \textcolor{comment}{//}}
\DoxyCodeLine{6 \textcolor{comment}{//  Part of:    Scid (Shane's Chess Information Database)}}
\DoxyCodeLine{7 \textcolor{comment}{//  Version:    2.7}}
\DoxyCodeLine{8 \textcolor{comment}{//}}
\DoxyCodeLine{9 \textcolor{comment}{//  Notice:     Copyright (c) 1999-\/2001 Shane Hudson.  All rights reserved.}}
\DoxyCodeLine{10 \textcolor{comment}{//}}
\DoxyCodeLine{11 \textcolor{comment}{//  Author:     Shane Hudson (sgh@users.sourceforge.net)}}
\DoxyCodeLine{12 \textcolor{comment}{//}}
\DoxyCodeLine{14 \textcolor{comment}{}}
\DoxyCodeLine{15 }
\DoxyCodeLine{16 \textcolor{preprocessor}{\#ifndef SCID\_TEXTBUF\_H}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#define SCID\_TEXTBUF\_H}}
\DoxyCodeLine{18 }
\DoxyCodeLine{19 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{common_8h}{common.h}}"{}}}
\DoxyCodeLine{20 \textcolor{preprocessor}{\#include <stdio.h>}}
\DoxyCodeLine{21 }
\DoxyCodeLine{22 \textcolor{keyword}{class }\mbox{\hyperlink{class_text_buffer}{TextBuffer}}}
\DoxyCodeLine{23 \{}
\DoxyCodeLine{24 \textcolor{keyword}{private}:}
\DoxyCodeLine{25     \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{26     \textcolor{comment}{//  TextBuffer:  Data Structures}}
\DoxyCodeLine{27     }
\DoxyCodeLine{28     \mbox{\hyperlink{common_8h_a4f5fce8c1ef282264f9214809524d836}{uint}}   Column;}
\DoxyCodeLine{29     \mbox{\hyperlink{common_8h_a4f5fce8c1ef282264f9214809524d836}{uint}}   IndentColumn;}
\DoxyCodeLine{30     \mbox{\hyperlink{common_8h_a4f5fce8c1ef282264f9214809524d836}{uint}}   WrapColumn;}
\DoxyCodeLine{31     \mbox{\hyperlink{common_8h_a4f5fce8c1ef282264f9214809524d836}{uint}}   LineIsEmpty;  \textcolor{comment}{// true if current line is empty.}}
\DoxyCodeLine{32     \mbox{\hyperlink{common_8h_a4f5fce8c1ef282264f9214809524d836}{uint}}   LineCount;}
\DoxyCodeLine{33     \mbox{\hyperlink{common_8h_a4f5fce8c1ef282264f9214809524d836}{uint}}   ByteCount;}
\DoxyCodeLine{34     \mbox{\hyperlink{common_8h_a4f5fce8c1ef282264f9214809524d836}{uint}}   BufferSize;}
\DoxyCodeLine{35     \textcolor{keywordtype}{bool}   ConvertNewlines;  \textcolor{comment}{// If true, convert newlines to spaces.}}
\DoxyCodeLine{36     \textcolor{keywordtype}{char} * Buffer;}
\DoxyCodeLine{37     \textcolor{keywordtype}{char} * Current;}
\DoxyCodeLine{38 }
\DoxyCodeLine{39     \textcolor{keywordtype}{bool}   PausedTranslations;}
\DoxyCodeLine{40     \textcolor{keywordtype}{bool}   HasTranslations;}
\DoxyCodeLine{41     \textcolor{keyword}{const} \textcolor{keywordtype}{char} * Translation [256];}
\DoxyCodeLine{42 }
\DoxyCodeLine{43     \textcolor{keyword}{inline} \textcolor{keywordtype}{void}   AddChar (\textcolor{keywordtype}{char} ch);}
\DoxyCodeLine{44     \mbox{\hyperlink{class_text_buffer_ad1cd85ca116ded421f7e20026ada244a}{TextBuffer}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_text_buffer}{TextBuffer}}\&);}
\DoxyCodeLine{45     \mbox{\hyperlink{class_text_buffer}{TextBuffer}}\& operator=(\textcolor{keyword}{const} \mbox{\hyperlink{class_text_buffer}{TextBuffer}}\&);}
\DoxyCodeLine{46 }
\DoxyCodeLine{47     \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{48     \textcolor{comment}{//  TextBuffer:  Public Functions}}
\DoxyCodeLine{49 \textcolor{keyword}{public}:}
\DoxyCodeLine{50     \mbox{\hyperlink{class_text_buffer_ad1cd85ca116ded421f7e20026ada244a}{TextBuffer}}() \{}
\DoxyCodeLine{51         \mbox{\hyperlink{class_text_buffer_a473746cd65e052a3f03f475eba90c7ba}{Init}}();}
\DoxyCodeLine{52         \mbox{\hyperlink{class_text_buffer_a5e073baca6cf982174947454e2524e6c}{SetBufferSize}}(1280000);}
\DoxyCodeLine{53     \}}
\DoxyCodeLine{54     \mbox{\hyperlink{class_text_buffer_ae6e62ee499ddea775d45fdf16ecebe06}{\string~TextBuffer}}()   \{ \mbox{\hyperlink{class_text_buffer_a55bd9ea295899ad5f5913ad61c40bb8e}{Free}}(); \}}
\DoxyCodeLine{55     }
\DoxyCodeLine{56     \textcolor{keywordtype}{void}     \mbox{\hyperlink{class_text_buffer_a473746cd65e052a3f03f475eba90c7ba}{Init}} ();}
\DoxyCodeLine{57     \textcolor{keywordtype}{void}     \mbox{\hyperlink{class_text_buffer_a55bd9ea295899ad5f5913ad61c40bb8e}{Free}} ();}
\DoxyCodeLine{58     \textcolor{keywordtype}{void}     \mbox{\hyperlink{class_text_buffer_a1a8c87280f36792b7f7aeecac05289cd}{Empty}} ();}
\DoxyCodeLine{59     }
\DoxyCodeLine{60     \textcolor{keywordtype}{void}     \mbox{\hyperlink{class_text_buffer_a5e073baca6cf982174947454e2524e6c}{SetBufferSize}} (\mbox{\hyperlink{common_8h_a4f5fce8c1ef282264f9214809524d836}{uint}} length);}
\DoxyCodeLine{61     \mbox{\hyperlink{common_8h_a4f5fce8c1ef282264f9214809524d836}{uint}}     \mbox{\hyperlink{class_text_buffer_ab3f3ca8cd24831cece8f7a6702084b29}{GetBufferSize}}()     \{ \textcolor{keywordflow}{return} BufferSize; \}}
\DoxyCodeLine{62     \mbox{\hyperlink{common_8h_a4f5fce8c1ef282264f9214809524d836}{uint}}     \mbox{\hyperlink{class_text_buffer_a8214e3bc88f31d3c077872586bc03157}{GetByteCount}}()      \{ \textcolor{keywordflow}{return} ByteCount; \}}
\DoxyCodeLine{63     \mbox{\hyperlink{common_8h_a4f5fce8c1ef282264f9214809524d836}{uint}}     \mbox{\hyperlink{class_text_buffer_a79399657644a7fd6d262f6b8c0615904}{GetLineCount}}()      \{ \textcolor{keywordflow}{return} LineCount; \}}
\DoxyCodeLine{64     \mbox{\hyperlink{common_8h_a4f5fce8c1ef282264f9214809524d836}{uint}}     \mbox{\hyperlink{class_text_buffer_ab82c6a44d677b520ac775160b4004fa1}{GetColumn}}()         \{ \textcolor{keywordflow}{return} Column; \}}
\DoxyCodeLine{65     \mbox{\hyperlink{common_8h_a4f5fce8c1ef282264f9214809524d836}{uint}}     \mbox{\hyperlink{class_text_buffer_afc1c5184b17d2fe5967abd00b3a1e8f2}{GetWrapColumn}} ()    \{ \textcolor{keywordflow}{return} WrapColumn; \}}
\DoxyCodeLine{66     \textcolor{keywordtype}{void}     \mbox{\hyperlink{class_text_buffer_a51b57cdb9ca1959ed718de6783e27533}{SetWrapColumn}} (\mbox{\hyperlink{common_8h_a4f5fce8c1ef282264f9214809524d836}{uint}} column) \{ WrapColumn = column; \}}
\DoxyCodeLine{67     \mbox{\hyperlink{common_8h_a4f5fce8c1ef282264f9214809524d836}{uint}}     \mbox{\hyperlink{class_text_buffer_a2924aba70c3dd9bf5cad14e774759158}{GetIndent}} ()        \{ \textcolor{keywordflow}{return} IndentColumn; \}}
\DoxyCodeLine{68     \textcolor{keywordtype}{void}     \mbox{\hyperlink{class_text_buffer_ad5531d496420c910e65432a22ef45aa2}{SetIndent}} (\mbox{\hyperlink{common_8h_a4f5fce8c1ef282264f9214809524d836}{uint}} column) \{ IndentColumn = column; \}}
\DoxyCodeLine{69     \textcolor{keywordtype}{char} *   \mbox{\hyperlink{class_text_buffer_ac967ed2e7e26d030ebad5b96cfc093d7}{GetBuffer}} ()        \{ \textcolor{keywordflow}{return} Buffer; \}}
\DoxyCodeLine{70     \textcolor{keywordtype}{void}     \mbox{\hyperlink{class_text_buffer_ab436d3d19c64fca88e96d343553157ce}{NewlinesToSpaces}} (\textcolor{keywordtype}{bool} b) \{ ConvertNewlines = b; \}}
\DoxyCodeLine{71 }
\DoxyCodeLine{72     \textcolor{keywordtype}{void}     \mbox{\hyperlink{class_text_buffer_a69f78119402183dd9f7dfb03e0bd1d90}{AddTranslation}} (\textcolor{keywordtype}{char} ch, \textcolor{keyword}{const} \textcolor{keywordtype}{char} * str);}
\DoxyCodeLine{73     \textcolor{comment}{// void     ClearTranslation (char ch) \{ Translation[ch] = NULL; \}}}
\DoxyCodeLine{74     \textcolor{comment}{// Changed ch to int, to avoid compiler warnings. }}
\DoxyCodeLine{75     \textcolor{keywordtype}{void}     \mbox{\hyperlink{class_text_buffer_a9763371d50dcbfb9cbc6626bb1fa0679}{ClearTranslation}} (\textcolor{keywordtype}{int} ch) \{ Translation[ch] = NULL; \}}
\DoxyCodeLine{76     \textcolor{keywordtype}{void}     \mbox{\hyperlink{class_text_buffer_a004398f5dc6050791a590c74f1d666cb}{ClearTranslations}} () \{ HasTranslations = \textcolor{keyword}{false}; \}}
\DoxyCodeLine{77     \textcolor{keywordtype}{void}     \mbox{\hyperlink{class_text_buffer_ad73ba3f7329886391117cfa7cccfb5fd}{PauseTranslations}} () \{ PausedTranslations = \textcolor{keyword}{true}; \}}
\DoxyCodeLine{78     \textcolor{keywordtype}{void}     \mbox{\hyperlink{class_text_buffer_a8a57d8578dc7cb2d595e7a154d3c2184}{ResumeTranslations}} () \{ PausedTranslations = \textcolor{keyword}{false}; \}}
\DoxyCodeLine{79 }
\DoxyCodeLine{80     \mbox{\hyperlink{error_8h_a3d30ac5665bf72ba7258c90866c775c0}{errorT}}   \mbox{\hyperlink{class_text_buffer_a4eb3f24b3484043aa2db10104639cb26}{NewLine}}();}
\DoxyCodeLine{81     \mbox{\hyperlink{error_8h_a3d30ac5665bf72ba7258c90866c775c0}{errorT}}   \mbox{\hyperlink{class_text_buffer_a5a5e21b8bcecb1e3f5dc8a7766613058}{Indent}}();}
\DoxyCodeLine{82     \mbox{\hyperlink{error_8h_a3d30ac5665bf72ba7258c90866c775c0}{errorT}}   \mbox{\hyperlink{class_text_buffer_a86cd60f2c8584bdc40d64823bfb17363}{PrintLine}} (\textcolor{keyword}{const} \textcolor{keywordtype}{char} * str);}
\DoxyCodeLine{83     \mbox{\hyperlink{error_8h_a3d30ac5665bf72ba7258c90866c775c0}{errorT}}   \mbox{\hyperlink{class_text_buffer_ad5ff9b494f1816089d484b37f78bba6f}{PrintWord}} (\textcolor{keyword}{const} \textcolor{keywordtype}{char} * str);}
\DoxyCodeLine{84     \mbox{\hyperlink{error_8h_a3d30ac5665bf72ba7258c90866c775c0}{errorT}}   \mbox{\hyperlink{class_text_buffer_a67e7a75e05c7d3c6d44b0af2a9f4fb49}{PrintString}} (\textcolor{keyword}{const} \textcolor{keywordtype}{char} * str);}
\DoxyCodeLine{85     \mbox{\hyperlink{error_8h_a3d30ac5665bf72ba7258c90866c775c0}{errorT}}   \mbox{\hyperlink{class_text_buffer_ade40d3c4951986389ad16363561859f0}{PrintSpace}} ();}
\DoxyCodeLine{86     \mbox{\hyperlink{error_8h_a3d30ac5665bf72ba7258c90866c775c0}{errorT}}   \mbox{\hyperlink{class_text_buffer_a9ed662824ca563ae71ab06605bb81e69}{PrintChar}} (\textcolor{keywordtype}{char} b);}
\DoxyCodeLine{87 }
\DoxyCodeLine{88     \mbox{\hyperlink{error_8h_a3d30ac5665bf72ba7258c90866c775c0}{errorT}}   \mbox{\hyperlink{class_text_buffer_a6a00746ec4e54b3e73cf0b6bc293e216}{PrintInt}} (\mbox{\hyperlink{common_8h_a4f5fce8c1ef282264f9214809524d836}{uint}} i, \textcolor{keyword}{const} \textcolor{keywordtype}{char} * str);}
\DoxyCodeLine{89     \textcolor{keyword}{inline} \mbox{\hyperlink{error_8h_a3d30ac5665bf72ba7258c90866c775c0}{errorT}} \mbox{\hyperlink{class_text_buffer_a716f11bb00493d85336c1bd2d28e3708}{PrintInt}} (\mbox{\hyperlink{common_8h_a4f5fce8c1ef282264f9214809524d836}{uint}} i) \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{class_text_buffer_a716f11bb00493d85336c1bd2d28e3708}{PrintInt}} (i, \textcolor{stringliteral}{"{}"{}}); \}}
\DoxyCodeLine{90 }
\DoxyCodeLine{91 \};}
\DoxyCodeLine{92 }
\DoxyCodeLine{93 \textcolor{keyword}{inline} \textcolor{keywordtype}{void}}
\DoxyCodeLine{94 TextBuffer::AddChar (\textcolor{keywordtype}{char} ch)}
\DoxyCodeLine{95 \{}
\DoxyCodeLine{96     \textcolor{keywordflow}{if} (HasTranslations  \&\&  !PausedTranslations) \{}
\DoxyCodeLine{97         \textcolor{keywordtype}{byte} b = (\mbox{\hyperlink{common_8h_a0c8186d9b9b7880309c27230bbb5e69d}{byte}}) ch;}
\DoxyCodeLine{98         \textcolor{keyword}{const} \textcolor{keywordtype}{char} * str = Translation[b];}
\DoxyCodeLine{99         \textcolor{keywordflow}{if} (str != NULL) \{}
\DoxyCodeLine{100             \textcolor{keyword}{const} \textcolor{keywordtype}{char} * s = str;}
\DoxyCodeLine{101             \textcolor{keywordflow}{while} (*s) \{}
\DoxyCodeLine{102                 *Current++ = *s++;}
\DoxyCodeLine{103                 ByteCount++;}
\DoxyCodeLine{104             \}}
\DoxyCodeLine{105             \textcolor{keywordflow}{return};}
\DoxyCodeLine{106         \}}
\DoxyCodeLine{107     \}}
\DoxyCodeLine{108     *Current = ch;}
\DoxyCodeLine{109     Current++;}
\DoxyCodeLine{110     ByteCount++;}
\DoxyCodeLine{111 \}}
\DoxyCodeLine{112 }
\DoxyCodeLine{113 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// SCID\_TEXTBUF\_H}}
\DoxyCodeLine{114 }
\DoxyCodeLine{116 \textcolor{comment}{//  EOF: textbuf.h}}
\DoxyCodeLine{118 \textcolor{comment}{}}

\end{DoxyCode}
