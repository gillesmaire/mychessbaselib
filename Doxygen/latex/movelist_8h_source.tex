\hypertarget{movelist_8h_source}{}\doxysection{movelist.\+h}
\mbox{\hyperlink{movelist_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{2 \textcolor{comment}{//}}
\DoxyCodeLine{3 \textcolor{comment}{//  FILE:       movelist.h}}
\DoxyCodeLine{4 \textcolor{comment}{//              MoveList class}}
\DoxyCodeLine{5 \textcolor{comment}{//}}
\DoxyCodeLine{6 \textcolor{comment}{//  Part of:    Scid (Shane's Chess Information Database)}}
\DoxyCodeLine{7 \textcolor{comment}{//  Version:    3.4}}
\DoxyCodeLine{8 \textcolor{comment}{//}}
\DoxyCodeLine{9 \textcolor{comment}{//  Notice:     Copyright (c) 1999-\/2002 Shane Hudson.  All rights reserved.}}
\DoxyCodeLine{10 \textcolor{comment}{//              Copyright (c) 2016 Fulvio Benini.  All rights reserved.}}
\DoxyCodeLine{11 \textcolor{comment}{//}}
\DoxyCodeLine{12 \textcolor{comment}{//  Author:     Shane Hudson (sgh@users.sourceforge.net)}}
\DoxyCodeLine{13 \textcolor{comment}{//}}
\DoxyCodeLine{15 \textcolor{comment}{}}
\DoxyCodeLine{16 }
\DoxyCodeLine{17 \textcolor{preprocessor}{\#ifndef SCID\_MOVELIST\_H}}
\DoxyCodeLine{18 \textcolor{preprocessor}{\#define SCID\_MOVELIST\_H}}
\DoxyCodeLine{19 }
\DoxyCodeLine{20 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{common_8h}{common.h}}"{}}}
\DoxyCodeLine{21 }
\DoxyCodeLine{23 \textcolor{comment}{//  MoveList:  Constants}}
\DoxyCodeLine{24 }
\DoxyCodeLine{25 \textcolor{keyword}{const} \mbox{\hyperlink{common_8h_a4f5fce8c1ef282264f9214809524d836}{uint}}  \mbox{\hyperlink{movelist_8h_a685364277cebb80d633f5482435057ab}{MAX\_LEGAL\_MOVES}} = 256;  \textcolor{comment}{// max. length of the moves list}}
\DoxyCodeLine{26 }
\DoxyCodeLine{27 }
\DoxyCodeLine{29 \textcolor{comment}{//  MoveList:  Data Structures}}
\DoxyCodeLine{30 }
\DoxyCodeLine{31 \textcolor{comment}{// *** SimpleMove: less expensive to store than a full move as defined}}
\DoxyCodeLine{32 \textcolor{comment}{//      in game.h, but still fully undoable.}}
\DoxyCodeLine{33 \textcolor{comment}{//}}
\DoxyCodeLine{34 \textcolor{keyword}{struct }\mbox{\hyperlink{structsimple_move_t}{simpleMoveT}}}
\DoxyCodeLine{35 \{}
\DoxyCodeLine{36     \mbox{\hyperlink{board__def_8h_a3108e3f00f59ecc09bef6c74ef203381}{squareT}}  \mbox{\hyperlink{structsimple_move_t_af32439fe1707873f6edbc1c37f838ade}{from}};}
\DoxyCodeLine{37     \mbox{\hyperlink{board__def_8h_a3108e3f00f59ecc09bef6c74ef203381}{squareT}}  \mbox{\hyperlink{structsimple_move_t_a37f9538b4da9c2fbafb57c4d5e3967f5}{to}};}
\DoxyCodeLine{38     \mbox{\hyperlink{board__def_8h_ac1897395b8e2b8ad9f873b30249f3920}{pieceT}}   \mbox{\hyperlink{structsimple_move_t_a67e81bf6c6b023e974e316bd636de645}{promote}}; \textcolor{comment}{// EMPTY if not a promotion, type (no color) otherwise}}
\DoxyCodeLine{39     \mbox{\hyperlink{board__def_8h_ac1897395b8e2b8ad9f873b30249f3920}{pieceT}}   \mbox{\hyperlink{structsimple_move_t_aaf00cb476920d37c414f6f65ce7309b9}{movingPiece}} : 7;}
\DoxyCodeLine{40     \mbox{\hyperlink{board__def_8h_ac1897395b8e2b8ad9f873b30249f3920}{pieceT}}   \mbox{\hyperlink{structsimple_move_t_af295c79229a6662766860d5c9a35efd0}{castling}} : 1;}
\DoxyCodeLine{41     \textcolor{keywordtype}{byte}     \mbox{\hyperlink{structsimple_move_t_a3bb9c72bd99a32798663b44b7bc7955d}{pieceNum}};}
\DoxyCodeLine{42     \textcolor{keywordtype}{byte}     \mbox{\hyperlink{structsimple_move_t_af197980660a4f31f32c3b573695586de}{capturedNum}};}
\DoxyCodeLine{43     \mbox{\hyperlink{board__def_8h_ac1897395b8e2b8ad9f873b30249f3920}{pieceT}}   \mbox{\hyperlink{structsimple_move_t_a047d72eef7bcaba315da9c450f445d18}{capturedPiece}};}
\DoxyCodeLine{44     \mbox{\hyperlink{board__def_8h_a3108e3f00f59ecc09bef6c74ef203381}{squareT}}  \mbox{\hyperlink{structsimple_move_t_a5bc471b43030a30806dd257a1df8b456}{capturedSquare}}; \textcolor{comment}{// ONLY different to "{}to"{} field if this capture}}
\DoxyCodeLine{45                             \textcolor{comment}{//    is an en passant capture.}}
\DoxyCodeLine{46     \textcolor{keywordtype}{byte}     \mbox{\hyperlink{structsimple_move_t_ae7cb87b128508bc5f0a6dcb838a2afd8}{castleFlags}};    \textcolor{comment}{// pre-\/move information}}
\DoxyCodeLine{47     \mbox{\hyperlink{board__def_8h_a3108e3f00f59ecc09bef6c74ef203381}{squareT}}  \mbox{\hyperlink{structsimple_move_t_a307213d084c57c19a1a6e8841c5f03cb}{epSquare}};       \textcolor{comment}{// pre-\/move information}}
\DoxyCodeLine{48     \mbox{\hyperlink{common_8h_a9e58a7bf060b7a5fbf6a401d3020adca}{ushort}}   \mbox{\hyperlink{structsimple_move_t_a96b8451ea97cdf0010e5bc66bc183bf2}{oldHalfMoveClock}};}
\DoxyCodeLine{49 }
\DoxyCodeLine{50     \textcolor{keywordtype}{bool} \mbox{\hyperlink{structsimple_move_t_a0ee523dd0010dce111c02f95f8f79624}{isNullMove}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{51         \textcolor{keywordflow}{return} \mbox{\hyperlink{structsimple_move_t_af32439fe1707873f6edbc1c37f838ade}{from}} == \mbox{\hyperlink{structsimple_move_t_a37f9538b4da9c2fbafb57c4d5e3967f5}{to}} \&\& \mbox{\hyperlink{structsimple_move_t_af32439fe1707873f6edbc1c37f838ade}{from}} != \mbox{\hyperlink{board__def_8h_a9ebc932c0c91e8ba6fe2335f1a6c7c83}{NULL\_SQUARE}} \&\&}
\DoxyCodeLine{52                \mbox{\hyperlink{board__def_8h_ae9ad95a6fa0d30a7bec5f55cf41b9f25}{piece\_Type}}(\mbox{\hyperlink{structsimple_move_t_aaf00cb476920d37c414f6f65ce7309b9}{movingPiece}}) == \mbox{\hyperlink{board__def_8h_a7a1a7457fc3085d873328ee746e3de5b}{KING}};}
\DoxyCodeLine{53     \}}
\DoxyCodeLine{54 }
\DoxyCodeLine{59     \textcolor{keywordtype}{int} \mbox{\hyperlink{structsimple_move_t_afb30a0c4bba3e4d8d39e2b0ec941e8ec}{isCastle}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{60         \textcolor{keywordflow}{if} (\mbox{\hyperlink{structsimple_move_t_af295c79229a6662766860d5c9a35efd0}{castling}})}
\DoxyCodeLine{61             \textcolor{keywordflow}{return} \mbox{\hyperlink{structsimple_move_t_a37f9538b4da9c2fbafb57c4d5e3967f5}{to}} > \mbox{\hyperlink{structsimple_move_t_af32439fe1707873f6edbc1c37f838ade}{from}} ? 2 : -\/2;}
\DoxyCodeLine{62 }
\DoxyCodeLine{63         \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{64     \}}
\DoxyCodeLine{65 }
\DoxyCodeLine{68     \textcolor{keyword}{template} <\textcolor{keyword}{typename} OutputIt> OutputIt \mbox{\hyperlink{structsimple_move_t_a13ba52fbc4694e603dc763d03adb8c24}{toLongNotation}}(OutputIt dest)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{69         \textcolor{keywordflow}{if} (\mbox{\hyperlink{structsimple_move_t_af32439fe1707873f6edbc1c37f838ade}{from}} == \mbox{\hyperlink{structsimple_move_t_a37f9538b4da9c2fbafb57c4d5e3967f5}{to}}) \{}
\DoxyCodeLine{70             \textcolor{comment}{// UCI standard for null move}}
\DoxyCodeLine{71             *dest++ = \textcolor{charliteral}{'0'};}
\DoxyCodeLine{72             *dest++ = \textcolor{charliteral}{'0'};}
\DoxyCodeLine{73             *dest++ = \textcolor{charliteral}{'0'};}
\DoxyCodeLine{74             *dest++ = \textcolor{charliteral}{'0'};}
\DoxyCodeLine{75         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{76             *dest++ = \mbox{\hyperlink{common_8h_a5fda94844034dddd89a21a7595977e29}{square\_FyleChar}}(\mbox{\hyperlink{structsimple_move_t_af32439fe1707873f6edbc1c37f838ade}{from}});}
\DoxyCodeLine{77             *dest++ = \mbox{\hyperlink{common_8h_afae30e87e8e9d81be7ab99a035307a1f}{square\_RankChar}}(\mbox{\hyperlink{structsimple_move_t_af32439fe1707873f6edbc1c37f838ade}{from}});}
\DoxyCodeLine{78             *dest++ = \mbox{\hyperlink{common_8h_a5fda94844034dddd89a21a7595977e29}{square\_FyleChar}}(\mbox{\hyperlink{structsimple_move_t_a37f9538b4da9c2fbafb57c4d5e3967f5}{to}});}
\DoxyCodeLine{79             *dest++ = \mbox{\hyperlink{common_8h_afae30e87e8e9d81be7ab99a035307a1f}{square\_RankChar}}(\mbox{\hyperlink{structsimple_move_t_a37f9538b4da9c2fbafb57c4d5e3967f5}{to}});}
\DoxyCodeLine{80             \textcolor{keywordflow}{if} (\mbox{\hyperlink{structsimple_move_t_a67e81bf6c6b023e974e316bd636de645}{promote}} != \mbox{\hyperlink{board__def_8h_a96f37dadd16fc9b94a236663df708852}{EMPTY}}) \{}
\DoxyCodeLine{81                 \textcolor{keyword}{constexpr} \textcolor{keyword}{const} \textcolor{keywordtype}{char} promoChars[] = \textcolor{stringliteral}{"{}  qrbn "{}};}
\DoxyCodeLine{82                 *dest++ = promoChars[\mbox{\hyperlink{board__def_8h_ae9ad95a6fa0d30a7bec5f55cf41b9f25}{piece\_Type}}(\mbox{\hyperlink{structsimple_move_t_a67e81bf6c6b023e974e316bd636de645}{promote}})];}
\DoxyCodeLine{83             \}}
\DoxyCodeLine{84         \}}
\DoxyCodeLine{85         \textcolor{keywordflow}{return} dest;}
\DoxyCodeLine{86     \}}
\DoxyCodeLine{87 \};}
\DoxyCodeLine{88 }
\DoxyCodeLine{89 \textcolor{keyword}{struct }\mbox{\hyperlink{struct_scored_move}{ScoredMove}} : \textcolor{keyword}{public} \mbox{\hyperlink{structsimple_move_t}{simpleMoveT}} \{}
\DoxyCodeLine{90     int32\_t \mbox{\hyperlink{struct_scored_move_af3b72f08c07087d7f593327e3fade753}{score}}; \textcolor{comment}{// used for alpha/beta ordering.}}
\DoxyCodeLine{91 }
\DoxyCodeLine{92     \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_scored_move_a0169bdc7ea86b35bee63e834e5c955ff}{operator<}}(\textcolor{keyword}{const} \mbox{\hyperlink{struct_scored_move}{ScoredMove}}\& b)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{93         \textcolor{comment}{// Highest score first}}
\DoxyCodeLine{94         \textcolor{keywordflow}{return} \mbox{\hyperlink{struct_scored_move_af3b72f08c07087d7f593327e3fade753}{score}} > b.\mbox{\hyperlink{struct_scored_move_af3b72f08c07087d7f593327e3fade753}{score}};}
\DoxyCodeLine{95     \}}
\DoxyCodeLine{96 \};}
\DoxyCodeLine{97 }
\DoxyCodeLine{98 \textcolor{comment}{// typedef std::vector<simpleMoveT> MoveList;}}
\DoxyCodeLine{99 \textcolor{keyword}{class }\mbox{\hyperlink{class_move_list}{MoveList}} \{}
\DoxyCodeLine{100     \mbox{\hyperlink{common_8h_a4f5fce8c1ef282264f9214809524d836}{uint}} ListSize = 0;}
\DoxyCodeLine{101     \mbox{\hyperlink{struct_scored_move}{ScoredMove}} Moves[\mbox{\hyperlink{movelist_8h_a685364277cebb80d633f5482435057ab}{MAX\_LEGAL\_MOVES}}];}
\DoxyCodeLine{102 }
\DoxyCodeLine{103 \textcolor{keyword}{public}:}
\DoxyCodeLine{104     \textcolor{keyword}{typedef} \mbox{\hyperlink{struct_scored_move}{ScoredMove}}* \mbox{\hyperlink{class_move_list_a34e23a50672c93acefa068323f8c89b8}{iterator}};}
\DoxyCodeLine{105     \mbox{\hyperlink{struct_scored_move}{iterator}} \mbox{\hyperlink{class_move_list_a439585a6725c25073317fedb759a8125}{begin}}() \{ \textcolor{keywordflow}{return} Moves; \};}
\DoxyCodeLine{106     \mbox{\hyperlink{struct_scored_move}{iterator}} \mbox{\hyperlink{class_move_list_a5600508a644fea1de31b296c006d017c}{end}}() \{ \textcolor{keywordflow}{return} Moves + ListSize; \}}
\DoxyCodeLine{107     \mbox{\hyperlink{common_8h_a4f5fce8c1ef282264f9214809524d836}{uint}} \mbox{\hyperlink{class_move_list_a7c0fd4a46a005a9ef1c803b48161d6cb}{Size}}() \{ \textcolor{keywordflow}{return} ListSize; \}}
\DoxyCodeLine{108     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_move_list_a87e216538f46b86ea000a7b8e12c95f1}{Clear}}() \{ ListSize = 0; \}}
\DoxyCodeLine{109     \mbox{\hyperlink{struct_scored_move}{ScoredMove}}\& \mbox{\hyperlink{class_move_list_a75c645e6fb7b41b6a0ef12da06f95c90}{emplace\_back}}() \{}
\DoxyCodeLine{110         \mbox{\hyperlink{common_8h_a79da58dac9dcdbcd4005f1d440e363ba}{ASSERT}}(ListSize < \mbox{\hyperlink{movelist_8h_a685364277cebb80d633f5482435057ab}{MAX\_LEGAL\_MOVES}});}
\DoxyCodeLine{111         \mbox{\hyperlink{struct_scored_move}{ScoredMove}}\& sm = Moves[ListSize++];}
\DoxyCodeLine{112         sm = \mbox{\hyperlink{struct_scored_move}{ScoredMove}}();}
\DoxyCodeLine{113         \textcolor{keywordflow}{return} sm;}
\DoxyCodeLine{114     \}}
\DoxyCodeLine{115     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_move_list_a381ffc1d2c5bfa5ec10d160fbb6234b2}{resize}}(\textcolor{keywordtype}{size\_t} count) \{}
\DoxyCodeLine{116         \mbox{\hyperlink{common_8h_a79da58dac9dcdbcd4005f1d440e363ba}{ASSERT}}(count <= \mbox{\hyperlink{movelist_8h_a685364277cebb80d633f5482435057ab}{MAX\_LEGAL\_MOVES}});}
\DoxyCodeLine{117         ListSize = \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{common_8h_a4f5fce8c1ef282264f9214809524d836}{uint}}\textcolor{keyword}{>}(count);}
\DoxyCodeLine{118     \}}
\DoxyCodeLine{119     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_move_list_a0a77bd66e4210244bc350a857604c45e}{push\_back}}(\textcolor{keyword}{const} \mbox{\hyperlink{struct_scored_move}{ScoredMove}}\& sm) \{}
\DoxyCodeLine{120         \mbox{\hyperlink{common_8h_a79da58dac9dcdbcd4005f1d440e363ba}{ASSERT}}(ListSize < \mbox{\hyperlink{movelist_8h_a685364277cebb80d633f5482435057ab}{MAX\_LEGAL\_MOVES}});}
\DoxyCodeLine{121         Moves[ListSize++] = sm;}
\DoxyCodeLine{122     \}}
\DoxyCodeLine{123     \mbox{\hyperlink{struct_scored_move}{ScoredMove}}* \mbox{\hyperlink{class_move_list_a5a8f86422b4e74f3336e12983241f90d}{Get}}(\textcolor{keywordtype}{size\_t} index) \{}
\DoxyCodeLine{124         \mbox{\hyperlink{common_8h_a79da58dac9dcdbcd4005f1d440e363ba}{ASSERT}}(index < ListSize);}
\DoxyCodeLine{125         \textcolor{keywordflow}{return} \&(Moves[index]);}
\DoxyCodeLine{126     \}}
\DoxyCodeLine{127 \};}
\DoxyCodeLine{128 }
\DoxyCodeLine{129 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// SCID\_MOVELIST\_H}}

\end{DoxyCode}
